<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="?attr/colorSurface"
    android:clipToPadding="false"
    tools:context=".ui.settings.SettingsFragment">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:paddingStart="24dp"
        android:paddingEnd="24dp"
        android:paddingTop="48dp"
        android:paddingBottom="100dp">

        <!-- App name label -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/app_name"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:letterSpacing="0.1"
            android:paddingBottom="4dp" />

        <!-- Title -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Nastavenia"
            android:textAppearance="@style/TextAppearance.Material3.DisplaySmall"
            android:textStyle="bold"
            android:textColor="?attr/colorOnSurface"
            android:layout_marginBottom="28dp" />

        <!-- Appearance group -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Vzhľad"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05" />

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <com.google.android.material.switchmaterial.SwitchMaterial
                android:id="@+id/switchDarkMode"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Tmavý režim"
                android:textAppearance="@style/TextAppearance.Material3.BodyLarge"
                android:padding="20dp" />
        </com.google.android.material.card.MaterialCardView>

        <!-- Teacher name section (offline mode) -->
        <TextView
            android:id="@+id/labelTeacherSection"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Učiteľ"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05"
            android:visibility="gone" />

        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutTeacherName"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Meno učiteľa"
                    app:boxCornerRadiusTopStart="12dp"
                    app:boxCornerRadiusTopEnd="12dp"
                    app:boxCornerRadiusBottomStart="12dp"
                    app:boxCornerRadiusBottomEnd="12dp">
                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editTeacherName"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPersonName" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnSaveTeacherName"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Uložiť"
                    app:cornerRadius="12dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Admin: Add user section -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutAddUser"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Pridať / Upraviť používateľa"
                    android:textAppearance="@style/TextAppearance.Material3.TitleSmall"
                    android:textStyle="bold"
                    android:layout_marginBottom="16dp" />

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Meno používateľa"
                    app:boxCornerRadiusTopStart="12dp"
                    app:boxCornerRadiusTopEnd="12dp"
                    app:boxCornerRadiusBottomStart="12dp"
                    app:boxCornerRadiusBottomEnd="12dp">
                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editNewUserName"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPersonName" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="E-mail používateľa"
                    app:boxCornerRadiusTopStart="12dp"
                    app:boxCornerRadiusTopEnd="12dp"
                    app:boxCornerRadiusBottomStart="12dp"
                    app:boxCornerRadiusBottomEnd="12dp">
                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editNewUserEmail"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textEmailAddress" />
                </com.google.android.material.textfield.TextInputLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">
                    <TextView
                        android:id="@+id/textUserRole"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Študent"
                        android:textAppearance="@style/TextAppearance.Material3.BodyLarge" />
                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchIsTeacher"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:checked="false"
                        tools:ignore="SpeakableTextPresentInSwitch" />
                </LinearLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnAddUser"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Pridať"
                    app:cornerRadius="12dp" />

                <TextView
                    android:id="@+id/textAddUserStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text=""
                    android:textAlignment="center"
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:layout_marginTop="8dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Admin: Subject section -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutAddSubject"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Administrácia Predmetov"
                    android:textAppearance="@style/TextAppearance.Material3.TitleSmall"
                    android:textStyle="bold"
                    android:layout_marginBottom="16dp" />

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Názov predmetu"
                    app:boxCornerRadiusTopStart="12dp"
                    app:boxCornerRadiusTopEnd="12dp"
                    app:boxCornerRadiusBottomStart="12dp"
                    app:boxCornerRadiusBottomEnd="12dp">
                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editSubjectName"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textCapWords" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="E-mail učiteľa"
                    app:boxCornerRadiusTopStart="12dp"
                    app:boxCornerRadiusTopEnd="12dp"
                    app:boxCornerRadiusBottomStart="12dp"
                    app:boxCornerRadiusBottomEnd="12dp">
                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editSubjectTeacherEmail"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textEmailAddress" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnAddSubject"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Pridať / Uložiť"
                    android:layout_marginBottom="8dp"
                    app:cornerRadius="12dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnRemoveSubject"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Odstrániť predmet"
                    android:layout_marginBottom="8dp"
                    app:cornerRadius="12dp"
                    app:strokeColor="?attr/colorError"
                    android:textColor="?attr/colorError" />

                <TextView
                    android:id="@+id/textAddSubjectStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text=""
                    android:textAlignment="center"
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:layout_marginTop="4dp" />

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/recyclerSubjects"
                    android:layout_width="match_parent"
                    android:layout_height="200dp"
                    android:layout_marginTop="12dp"
                    android:visibility="gone" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Admin: Academic Year Management -->
        <TextView
            android:id="@+id/labelSchoolYears"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Akademické roky"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05"
            android:visibility="gone" />

        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutSchoolYears"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/recyclerSchoolYears"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Admin: Database Migration -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutMigrateDb"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Migrácia databázy"
                    android:textAppearance="@style/TextAppearance.Material3.TitleSmall"
                    android:textStyle="bold"
                    android:layout_marginBottom="4dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Migruje existujúce predmety a študentov do novej štruktúry databázy (akademické roky, globálni študenti)."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:textColor="?attr/colorOnSurfaceVariant"
                    android:layout_marginBottom="12dp" />

                <com.google.android.material.checkbox.MaterialCheckBox
                    android:id="@+id/checkMigrateBackup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Mám zálohu databázy, ktorú môžem obnoviť ak sa niečo pokazí"
                    android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                    android:layout_marginBottom="12dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnMigrateDb"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Migrovať databázu"
                    app:cornerRadius="12dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <ImageView
                        android:id="@+id/iconMigrateSuccess"
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/baseline_check_circle_24"
                        android:layout_marginEnd="6dp"
                        android:visibility="gone"
                        app:tint="@color/good_mark" />

                    <TextView
                        android:id="@+id/textMigrateStatus"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                        android:textColor="?attr/colorOnSurfaceVariant"
                        android:visibility="gone" />
                </LinearLayout>
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Account group -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Účet"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05" />

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnResetPassword"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Obnoviť heslo"
                    android:layout_marginBottom="8dp"
                    app:cornerRadius="12dp" />

                <TextView
                    android:id="@+id/text_reset_status"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text=""
                    android:visibility="gone"
                    android:textAlignment="center"
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnLogout"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Odhlásiť sa"
                    app:cornerRadius="12dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Export/Import (offline mode) -->
        <TextView
            android:id="@+id/labelExportImport"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Databáza"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05"
            android:visibility="gone" />

        <com.google.android.material.card.MaterialCardView
            android:id="@+id/layoutExportImport"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            android:visibility="gone"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:padding="20dp">

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnExportDatabase"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="0dp"
                    android:layout_height="52dp"
                    android:layout_weight="1"
                    android:text="@string/export_database"
                    android:layout_marginEnd="8dp"
                    app:cornerRadius="12dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnImportDatabase"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="0dp"
                    android:layout_height="52dp"
                    android:layout_weight="1"
                    android:text="@string/import_database"
                    app:cornerRadius="12dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Notification settings group -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Notifikácie"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05" />

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <!-- Enable live timetable notifications -->
                <com.google.android.material.switchmaterial.SwitchMaterial
                    android:id="@+id/switchNotifLive"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Priebežný prehľad rozvrhu"
                    android:textAppearance="@style/TextAppearance.Material3.BodyLarge"
                    android:padding="4dp"
                    android:layout_marginBottom="12dp" />

                <!-- Live notification update interval -->
                <TextView
                    android:id="@+id/labelLiveInterval"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Interval aktualizácie (minúty)"
                    android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                    android:textColor="?attr/colorOnSurfaceVariant"
                    android:layout_marginBottom="4dp" />

                <FrameLayout
                    android:id="@+id/frameLiveInterval"
                    android:layout_width="match_parent"
                    android:layout_height="44dp"
                    android:layout_marginBottom="16dp"
                    android:background="@drawable/bg_pill_chip">
                    <Spinner
                        android:id="@+id/spinnerLiveInterval"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:paddingStart="16dp"
                        android:paddingEnd="16dp"
                        android:popupBackground="@drawable/spinner_dropdown_bg"
                        android:spinnerMode="dropdown" />
                </FrameLayout>

                <!-- Minutes before class to start showing notification -->
                <TextView
                    android:id="@+id/labelMinutesBefore"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Zobraziť pred začiatkom hodiny (minúty)"
                    android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                    android:textColor="?attr/colorOnSurfaceVariant"
                    android:layout_marginBottom="4dp" />

                <FrameLayout
                    android:id="@+id/frameMinutesBefore"
                    android:layout_width="match_parent"
                    android:layout_height="44dp"
                    android:layout_marginBottom="16dp"
                    android:background="@drawable/bg_pill_chip">
                    <Spinner
                        android:id="@+id/spinnerMinutesBefore"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:paddingStart="16dp"
                        android:paddingEnd="16dp"
                        android:popupBackground="@drawable/spinner_dropdown_bg"
                        android:spinnerMode="dropdown" />
                </FrameLayout>

                <!-- Show classroom in notification (part of live timetable) -->
                <com.google.android.material.switchmaterial.SwitchMaterial
                    android:id="@+id/switchNotifClassroom"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Zobraziť učebňu v notifikácii"
                    android:textAppearance="@style/TextAppearance.Material3.BodyLarge"
                    android:padding="4dp"
                    android:layout_marginBottom="12dp" />

                <!-- Show upcoming class (part of live timetable) -->
                <com.google.android.material.switchmaterial.SwitchMaterial
                    android:id="@+id/switchNotifUpcoming"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Zobraziť nadchádzajúcu hodinu"
                    android:textAppearance="@style/TextAppearance.Material3.BodyLarge"
                    android:padding="4dp"
                    android:layout_marginBottom="16dp" />

                <!-- Changes notifications group (hidden for teachers) -->
                <LinearLayout
                    android:id="@+id/layoutNotifChangesGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">

                    <!-- Enable changes notifications (grades, cancellations) -->
                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchNotifChanges"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Upozornenia na zmeny (známky, zrušenia)"
                        android:textAppearance="@style/TextAppearance.Material3.BodyLarge"
                        android:padding="4dp"
                        android:layout_marginBottom="12dp" />

                    <!-- Changes check interval -->
                    <TextView
                        android:id="@+id/labelChangesInterval"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Interval kontroly zmien (minúty)"
                        android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                        android:textColor="?attr/colorOnSurfaceVariant"
                        android:layout_marginBottom="4dp" />

                    <FrameLayout
                        android:id="@+id/frameChangesInterval"
                        android:layout_width="match_parent"
                        android:layout_height="44dp"
                        android:layout_marginBottom="16dp"
                        android:background="@drawable/bg_pill_chip">
                        <Spinner
                            android:id="@+id/spinnerChangesInterval"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:paddingStart="16dp"
                            android:paddingEnd="16dp"
                            android:popupBackground="@drawable/spinner_dropdown_bg"
                            android:spinnerMode="dropdown" />
                    </FrameLayout>
                </LinearLayout>
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Battery optimization group -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Optimalizácia batérie"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05" />

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Optimalizácia batérie môže spôsobiť, že Android pozdrží alebo úplne zablokuje notifikácie o rozvrhu, známkach a dochádzke. Pre spoľahlivé doručovanie notifikácií je potrebné túto optimalizáciu vypnúť."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:textColor="?attr/colorOnSurfaceVariant"
                    android:layout_marginBottom="12dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnBatteryOptimization"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="Vypnúť optimalizáciu batérie"
                    app:cornerRadius="12dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- About section -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="O aplikácii"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textColor="?attr/colorPrimary"
            android:layout_marginBottom="8dp"
            android:letterSpacing="0.05" />

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="0dp"
            app:strokeWidth="1dp"
            app:strokeColor="?attr/colorOutlineVariant"
            app:cardBackgroundColor="?attr/colorSurfaceContainerLowest">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnAboutUs"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="52dp"
                    android:text="O nás - GitHub"
                    app:cornerRadius="12dp" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

    </LinearLayout>
</ScrollView>
